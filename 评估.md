一，MES进出站超时，上位机并发多个电芯数据上传，有毫秒级的延时，但是当前宇航MES系统处理不了，咨询了其他项目现场的情况，其他现场的MES系统可以处理（中航，广州融捷，柳州瑞普等），且耗时不超过1秒（广州融捷平均在500毫秒以内，如图），但是宇航MES这边，超时的概率非常高（10秒，15秒，机台数据可查验）

<img src="C:/Users/huanghuye/AppData/Roaming/Typora/typora-user-images/image-20240408013746617.png" alt="image-20240408013746617" style="zoom:80%;" />

![image-20240408013948801](C:/Users/huanghuye/AppData/Roaming/Typora/typora-user-images/image-20240408013948801.png)



![进站](../../项目文档/BS/龙净整线/问题点收集/进站.png)



![image-20240408083218098](C:/Users/huanghuye/AppData/Roaming/Typora/typora-user-images/image-20240408083218098.png)







二，关于上述超时问题，宇航MES处理不了数据并发的情况，于是宇航MES这边要求 更改设备上传数据的规则，要求将多个数据合在一起上传，此等要求 设备无法满足，

原因：

- 1.设备主逻辑代码无法直接修改，一定要改就只能代码重构，验证，测试（PLC与上位机）需要耗费大量的时间，且无法保证稳定性，部分已确定的优化功能将会不得已的无法再满足，可预见性的会影响项目交付。

- 2，目前设备这边反馈给本公司领导 ，综合评估 宇航MES提出方案的可行性，认为就算设备耗费人力物力完成要求，也无法解决宇航MES回复超时的问题，从技术上看，宇航MES接口处理数据，后续所造成的数据库锁表，无论设备这边怎么配合处理，也无法帮助MES这边避免锁表问题，此外，设备这边也是使用关系型数据库，同样的也在并发处理，数据收发，可是设备运行正常，MES却无法处理
- 3，从数据上看，当前超声波终焊与连接片焊接机 是单工位进出站，此时没有并发情况，可是MES进出站回复还是有超时（机台上位机有数据记录可供查验），宇航MES说是其他工序的并发情况导致MES的数据库服务器性能下降，那么MES系统导致数据库服务器性能下降，MES系统是否需要优化处理，关于超声波终焊与连接片焊接机 的条码绑定， 一个电芯先调用MES条码绑定接口  再调用MES出站接口，可是出现MES条码绑定也有超时的情况，宇焊MES说也是锁表造成，MES开发人员是否可以确认一下，思考一下

